
<!DOCTYPE HTML>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"> 
    <title>The MidiPlayer Javascript class to play MIDI</title>
    <link rel="stylesheet" href="common.css"/>
    <script src="/javascript/midi.js"></script>
    <script type="text/javascript">
    var mp1, mp2;

    function init() {
        // Example 1. This will loop 5 times, and has a callback function at the end.
        var callback = function() { document.getElementById('btn1').value = 'play'; }
        mp1 = new MidiPlayer('play.midi', 'btn1', true, 5, callback);
        mp1.setDebugDiv('msg');

        // Example 2. This will not loop.
        mp2 = new MidiPlayer('Bach_Badinerie.mid', 'btn2'); 
    }

    function doPlay(m, btn) {
        if (btn.value == 'play') {
            m.play();
            btn.value = 'stop';
        }
        else {
            m.stop();
            btn.value = 'play';
        }
    }
    
    function do_clear() { 
        document.getElementById('msg').innerHTML=''; 
        document.getElementById('div_clear').style.display='none';
    }
    function show_clear() {
        document.getElementById('div_clear').style.display='block';
    }
    </script>

</head>

<body onload="javascript:init();">
<div id="article">
<div id="container">


<h3>Demo</h3>

Save.mid: <input type="button" value="play" id="btn1" onclick="doPlay(mp1, this); show_clear();"/> (repeat 5 times)
<span onclick="mp1.stop();" style="background-color:#eeeeee;">Stop Save.mid</span>
<br/>

Bach.mid: <input type="button" value="play" id='btn2' onclick="doPlay(mp2, this);"/><br/><br/>

<div id='msg'></div>
<input type="button" id='div_clear' style="display:none;" value="Clear Message" onclick="javascript: do_clear();"/>
        
        
<h3>Usage</h3>

<p>You just need to include <a href="javascript/midi.min.js">midi.min.js</a> 
(uncompressed version: <a href="javascript/midi.js">midi.js</a>) in the head section of your html page:<pre>
    &lt;script src="javascript/midi.min.js"&gt;&lt;/script&gt;
</pre>
An alternative is to include all the files from which midi.js was made (Of course, the first way is much better):<pre>
    &lt;script src="javascript/midi/stream.js"&gt;&lt;/script&gt;
    &lt;script src="javascript/midi/midifile.js"&gt;&lt;/script&gt;
    &lt;script src="javascript/midi/replayer.js"&gt;&lt;/script&gt;
    &lt;script src="javascript/midi/synth.js"&gt;&lt;/script&gt;
    &lt;script src="javascript/midi/audio.js"&gt;&lt;/script&gt;
    &lt;script src="javascript/midi/vbscript.js"&gt;&lt;/script&gt;
    &lt;script src="javascript/midi/MidiPlayer.js"&gt;&lt;/script&gt;
</pre>


<p><br/></p>

</div> <!--end of div container-->
</div> <!--end of div article-->
</body>
</html>

